<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">
      <head>

    <metal:block fill-slot="javascript_head_slot">
    <link rel="stylesheet" href="++resource++Products.ILOIntranetTypes/jquery.autoSuggest.css"/>
<style type="text/css">
.invitebutton {
    -moz-box-shadow:inset 0px 1px 0px 0px #ffffff;
    -webkit-box-shadow:inset 0px 1px 0px 0px #ffffff;
    box-shadow:inset 0px 1px 0px 0px #ffffff;
    background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ededed), color-stop(1, #dfdfdf) );
    background:-moz-linear-gradient( center top, #ededed 5%, #dfdfdf 100% );
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#dfdfdf');
    background-color:#ededed;
    -moz-border-radius:6px;
    -webkit-border-radius:6px;
    border-radius:6px;
    border:1px solid #dcdcdc;
    display:inline-block;
    color:#777777;
    font-family:arial;
    font-size:15px;
    font-weight:bold;
    padding:6px 24px;
    text-decoration:none;
    text-shadow:1px 1px 0px #ffffff;
}.invitebutton:hover {
    background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
    background:-moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
    background-color:#dfdfdf;
}.invitebutton:active {
    position:relative;
    top:1px;
}

#invited_users_list {
    width:49%;
    float:left;
}

#attendee_list {
    width:49%;
    float:left;
}

/* This imageless css button was generated by CSSButtonGenerator.com */
</style>
    <script src="++resource++Products.ILOIntranetTypes/jquery.autoSuggest.js"></script>
    <script src="++resource++Products.ILOIntranetTypes/attendeelist.js"></script>
    </metal:block>
</head>
<body>
    <div metal:fill-slot="main"
        tal:define="portal context/@@plone_portal_state/portal;">
      <div id="event-attendee-select">
          <h3>Invite Members</h3>
      <input type="input" id="event-attendee-select"
          tal:attributes="rel string:${context/absolute_url}/attendee-source.json"/> 
      </div>
      <form id="event-invite-form" method="POST" style="text-align:right">
          <input type="hidden" name="invited_users"/>
          <input class="invitebutton" type="submit" name="submit" value="Invite!"/>
      </form>


      <div>
          <div id="invited_users_list">
              <h3>Invited Members</h3>
              <tal:r repeat="user view/invited_users">
            <div>
                <a tal:attributes="href string:${portal/absolute_url}/author/${user/id}">
                    <b tal:content="user/fullname"></b></a><br/>
                <tal:r replace="user/jobtitle"/> | <tal:r
                replace="user/office"/>
            </div>

            </tal:r>
        </div>

        <div id="attendee_list">
            <h3>Attending Members</h3>
            <tal:r repeat="user view/attendees">
            <div>
                <a tal:attributes="href string:${portal/absolute_url}/author/${user/id}">
                    <b tal:content="user/fullname"></b></a><br/>
                <tal:r replace="user/jobtitle"/> | <tal:r
                replace="user/office"/>
            </div>

            </tal:r>
        </div>

        <div style="clear:both">&nbsp;</div>
      </div>
  </div>
</body>
</html>

